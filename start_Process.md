# Starting a process when the case is created. 
A long-running process provides the ability to manage user activities and making sure work is done in a timely fashion by the predefined user/offer set. Long-running processes are persisted in the BPM engine database to keep track of progress as the work gets completed. In triggering a long-running process, you create a process instance that will run until the completion of the activities that make up the process.  As a best practice, long-running processes should be broken up into multiple smaller sub-processes that are responsible for a specific part of the process. When it comes to case management we break the life of the case up into multiple milestones that complete specific activities to solve a problem. We then string these activities together to complete the life of the case end-to-end. Every one of these milestones is represented by a case states that we defined in the business object model. In our scenario, we have Registered, Advise, Investigate, and Resolved as the case states. Each of these states may or may not have multiple activities to be performed to complete the process or move the case state from one to the next. We will create a process for each of these states. 

For the first process, we will create a process that will be responsible for processing the "Registered" state of the process. The case represents the meta-data of the case for example the customer or dispute. The actual data should be located in the organization's systems of record and the BPM process should collect the data that is required to perform to work as the user needs the data. In our case, we assume the BPM case is the real data. When we created the business service we created the case but did not trigger a long-running process to handle the actual dispute. 

Another best practice is not to pass huge chunks of data from one process or activity to the next. We know the data is in the database and we know what the unique ID of that case is. We can easily find the data if we just have the id number. When a global case data object "create case" is triggered, the response of the activity is a case reference. When using the OOTB IDs,  the ID of the case is only assigned when the case gets created. So the data that we pass in does not have the ID.  To get the ID, we need to use the reference number to get a new copy of the data and then read the ID number of the case. We would have used the case reference, but we did not as the reference field contains a version number built-in. Every time a case changes, the version number of the reference field gets updated.  So, the best way of keeping a reference to the case is by the ID number that does not change.

<img src="/images/process/1.png" alt="get case id" width=700/>

In this screenshot you will see the script that we execute when the create case service task is completed. The first line is responsible for reading the case data from the reference field. When the data is populated in the Dispute data field, you can extract the newly created ID that we are doing in the second line. We will use this field to pass into the new long running business process we will create. 
